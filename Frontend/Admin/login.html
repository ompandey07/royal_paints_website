{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Choice - Login</title>
    <link rel="shortcut icon" href="{% static 'Logo/Logo.png' %}" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.1.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }

        .cursive-font {
            font-family: 'Great Vibes', cursive;
        }

        /* Hide scrollbar */
        ::-webkit-scrollbar {
            display: none;
        }

        html {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        body {
            overflow-x: hidden;
        }

        /* Animation keyframes */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(60px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(2deg); }
            50% { transform: translateY(-10px) rotate(-1deg); }
            75% { transform: translateY(-15px) rotate(1deg); }
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        @keyframes morphing {
            0%, 100% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; background: linear-gradient(45deg, #3b82f6, #06b6d4); }
            25% { border-radius: 50% 50% 50% 50% / 50% 50% 50% 50%; background: linear-gradient(135deg, #8b5cf6, #06b6d4); }
            50% { border-radius: 70% 30% 30% 70% / 70% 70% 30% 30%; background: linear-gradient(225deg, #06b6d4, #3b82f6); }
            75% { border-radius: 30% 70% 50% 50% / 50% 30% 70% 50%; background: linear-gradient(315deg, #3b82f6, #8b5cf6); }
        }

        /* Animation classes */
        .fade-in-up { animation: fadeInUp 1s ease-out forwards; }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .shimmer-effect { background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent); background-size: 200% 100%; animation: shimmer 2s infinite; }
        .morphing-blob { animation: morphing 8s ease-in-out infinite; }
        .hidden-initially { opacity: 0; }

        .floating-element { animation: float 4s infinite ease-in-out; }
        .floating-element:nth-child(odd) { animation-direction: reverse; }

        .mouse-follower { pointer-events: none; transition: all 1s ease-out; }

        .gradient-text { 
            background: linear-gradient(45deg, #3b82f6, #06b6d4, #8b5cf6, #3b82f6); 
            background-size: 300% 300%; 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text; 
            animation: shimmer 3s ease-in-out infinite; 
        }

        .hover-lift { transition: all 0.3s ease-out; }
        .hover-lift:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }

        .btn-advanced { position: relative; overflow: hidden; }
        .btn-advanced::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); transition: left 0.6s ease; }
        .btn-advanced:hover::before { left: 100%; }
    </style>
</head>
<body class="w-full min-h-screen overflow-x-hidden text-gray-800 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center">
    <!-- Background Effects -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute text-blue-400/20 floating-element" style="left: 5%; top: 15%; animation-delay: 0ms; animation-duration: 8s;">
            <i class="ri-user-line text-3xl animate-pulse"></i>
        </div>
        <div class="absolute text-purple-400/20 floating-element" style="left: 15%; top: 65%; animation-delay: 1000ms; animation-duration: 6s;">
            <i class="ri-lock-line text-2xl animate-pulse"></i>
        </div>
        <div class="absolute text-cyan-400/20 floating-element" style="left: 85%; top: 25%; animation-delay: 2000ms; animation-duration: 7s;">
            <i class="ri-key-line text-2xl animate-pulse"></i>
        </div>
        <div class="absolute text-green-400/20 floating-element" style="left: 75%; top: 75%; animation-delay: 1500ms; animation-duration: 9s;">
            <i class="ri-shield-line text-3xl animate-pulse"></i>
        </div>
        <div class="absolute text-yellow-400/20 floating-element" style="left: 25%; top: 35%; animation-delay: 500ms; animation-duration: 5s;">
            <i class="ri-star-line text-2xl animate-pulse"></i>
        </div>
        <div id="mouseFollower" class="absolute w-96 h-96 bg-gradient-to-r from-blue-500/8 to-cyan-500/8 rounded-full blur-3xl mouse-follower"></div>
        <div class="absolute top-20 left-20 w-96 h-96 morphing-blob opacity-10 filter blur-3xl"></div>
        <div class="absolute top-1/2 right-20 w-96 h-96 morphing-blob opacity-8 filter blur-3xl" style="animation-delay: 3s;"></div>
    </div>

    <!-- Login Form -->
    <div class="max-w-md w-full mx-auto px-4 sm:px-6 relative z-10">
        <div class="bg-black/40 backdrop-blur-sm rounded-3xl shadow-lg border border-gray-700 p-8 hover-lift hidden-initially fade-in-up">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-cyan-500 transform scale-x-0 transition-transform duration-500 group-hover:scale-x-100"></div>
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-white mb-2 gradient-text">Login to Your Choice</h2>
                <p class="text-gray-400">Access your account to manage your motorcycle services</p>
            </div>
            <form  method="POST" class="space-y-6">
                {% csrf_token %}
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                        <i class="ri-user-line text-blue-400 text-xl"></i>
                    </div>
                    <input 
                        type="text" 
                        name="username" 
                        placeholder="Username or Email" 
                        class="w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" 
                        required
                    >
                </div>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                        <i class="ri-lock-line text-blue-400 text-xl"></i>
                    </div>
                    <input 
                        type="password" 
                        name="password" 
                        id="passwordInput" 
                        placeholder="Password" 
                        class="w-full pl-12 pr-12 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" 
                        required
                    >
                    <button 
                        type="button" 
                        id="passwordToggle" 
                        class="absolute inset-y-0 right-0 flex items-center pr-3 text-blue-400 hover:text-blue-300 transition-colors duration-300"
                    >
                        <i class="ri-eye-line text-xl"></i>
                    </button>
                </div>
                <button 
                    type="submit" 
                    class="w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-bold py-3 rounded-lg transition-all duration-300 hover:scale-105 flex items-center justify-center space-x-2 btn-advanced"
                >
                    <i class="ri-login-box-line text-xl animate-pulse"></i>
                    <span>Login</span>
                </button>
            </form>
            
        </div>
    </div>

    <script>
        // State variables
        let mousePosition = { x: 0, y: 0 };
        let contentLoaded = false;

        // DOM elements
        const mouseFollower = document.getElementById('mouseFollower');
        const passwordInput = document.getElementById('passwordInput');
        const passwordToggle = document.getElementById('passwordToggle');

        // Show content with animations
        function showContent() {
            const loginForm = document.querySelector('.fade-in-up');
            if (loginForm) {
                loginForm.classList.remove('hidden-initially');
                loginForm.classList.add('fade-in-up');
            }
        }

        // Handle mouse movement
        function handleMouseMove(e) {
            mousePosition.x = e.clientX;
            mousePosition.y = e.clientY;
            if (mouseFollower) {
                const x = mousePosition.x - 192;
                const y = mousePosition.y - 192;
                mouseFollower.style.transform = `translate(${x}px, ${y}px)`;
            }

            const loginCard = document.querySelector('.hover-lift');
            if (loginCard) {
                const rect = loginCard.getBoundingClientRect();
                const cardX = rect.left + rect.width / 2;
                const cardY = rect.top + rect.height / 2;
                const distanceX = mousePosition.x - cardX;
                const distanceY = mousePosition.y - cardY;
                const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);
                
                if (distance < 200) {
                    const intensity = (200 - distance) / 200;
                    const tiltX = (distanceY / 200) * 10 * intensity;
                    const tiltY = -(distanceX / 200) * 10 * intensity;
                    loginCard.style.transform = `perspective(1000px) rotateX(${tiltX}deg) rotateY(${tiltY}deg) scale(${1 + intensity * 0.05})`;
                } else {
                    loginCard.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)';
                }
            }
        }

        // Password toggle
        function setupPasswordToggle() {
            if (passwordToggle && passwordInput) {
                passwordToggle.addEventListener('click', () => {
                    const isPassword = passwordInput.type === 'password';
                    passwordInput.type = isPassword ? 'text' : 'password';
                    passwordToggle.innerHTML = isPassword 
                        ? '<i class="ri-eye-off-line text-xl"></i>' 
                        : '<i class="ri-eye-line text-xl"></i>';
                });
            }
        }

        // Performance optimization
        function optimizePerformance() {
            let mouseMoveTimeout;
            const originalHandleMouseMove = handleMouseMove;
            handleMouseMove = function(e) {
                if (mouseMoveTimeout) {
                    return;
                }
                mouseMoveTimeout = setTimeout(() => {
                    originalHandleMouseMove(e);
                    mouseMoveTimeout = null;
                }, 16);
            };
        }

        // Event listeners
        function setupEventListeners() {
            window.addEventListener('mousemove', handleMouseMove, { passive: true });
            document.addEventListener('focusin', (e) => {
                if (e.target.matches('input, button')) {
                    e.target.style.outline = '2px solid #3b82f6';
                    e.target.style.outlineOffset = '2px';
                }
            });
            document.addEventListener('focusout', (e) => {
                if (e.target.matches('input, button')) {
                    e.target.style.outline = '';
                    e.target.style.outlineOffset = '';
                }
            });
        }

        // Initialization
        function initialize() {
            optimizePerformance();
            setupEventListeners();
            setupPasswordToggle();
            setTimeout(() => {
                contentLoaded = true;
                showContent();
            }, 500);
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initialize);
        } else {
            initialize();
        }

        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                document.body.style.animationPlayState = 'paused';
            } else {
                document.body.style.animationPlayState = 'running';
            }
        });
    </script>
</body>
</html>